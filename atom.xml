<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>前端迷 (front-end fan)</title>
  
  
  <link href="/note/atom.xml" rel="self"/>
  
  <link href="http://ru23.github.io/note/"/>
  <updated>2018-09-28T11:46:34.287Z</updated>
  <id>http://ru23.github.io/note/</id>
  
  <author>
    <name>frank</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>redux入门</title>
    <link href="http://ru23.github.io/note/2018/09/28/redux%E5%85%A5%E9%97%A8/"/>
    <id>http://ru23.github.io/note/2018/09/28/redux入门/</id>
    <published>2018-09-28T11:43:17.000Z</published>
    <updated>2018-09-28T11:46:34.287Z</updated>
    
    <content type="html"><![CDATA[<p>Redux由Flux演变而来，提供几个简单的API来实现状态管理，所谓状态指的是应用数据，所以，Redux本质上是用来管理数据的。<br>进一步，Redux配合支持数据绑定的视图库使用，就可以将应用状态和视图一一对应，开发者不需要再去关心DOM操作，只关心如何组织数据即可。</p><blockquote><p>由于Redux对于数据的管理拆分很细，一时间会有很多概念，并且Redux有自己丰富的生态，所以容易眼花缭乱。<br>所以强烈建议从头开始一步一步的来，深入体验并理解Redux的思想，不要步子迈太大。<br>✦ 不要一开始过多的纠结代码放在哪个目录<br>✦ 不要一开始就想对action和reducer的代码做精简<br>✦ 不要一开始就考虑数据缓存，离线数据等问题<br>✦ 不要一开始就过度设计数据，考虑数据扁平化的问题<br>反正一句话，饭要一口一口的吃，路要一步一步的走，Redux对于状态管理的东西拆得太细，需要多花一些时间去体会。</p></blockquote><h2 id="Redux是什么？"><a href="#Redux是什么？" class="headerlink" title="Redux是什么？"></a>Redux是什么？</h2><p>Redux其实很简单，总结起来就三句话：<br>✦ 将整个应用的state储存在唯一的store对象中。<br>✦ state只能通过触发action来修改，其中action就是一个描述性的普通对象。<br>✦ 使用reducer来描述action如何改变state。</p><p>是的，简而言之就是：Redux让应用的数据被集中管理，并且只能通过触发action的方式来修改，而具体如何修改state，是由reducer来决定的。</p><p>那么问题来了：<br>✦ store是什么鬼？<br>✦ action是什么鬼？<br>✦ reducer是什么鬼?<br>✦ 最重要的是，为啥要使用Redux，它能给我们带什么什么好处？或者说，引入这么一个状态理器到底有啥用？</p><p>接下来，我们先捉这三只鬼。</p><p>store是什么鬼？<br>前面提过，Redux的目的就是为了对应用数据进行集中管理，也就是state，而state是个普通对象。为了防止state被不小心更新，Redux创建了store对象，专门用来管理state数据。</p><p>所以，store就是state的守门员，管理并维护应用数据。</p><h3 id="创建store"><a href="#创建store" class="headerlink" title="创建store"></a>创建store</h3><p>我们通过createStore(reducer, [initialState], enhancer)的方式来创建store。需要注意的是，应用中应该有且只有一个store。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是reducer，后文会详细介绍</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">todos</span>(<span class="params">state = [], action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'ADD_TODO'</span>:</span><br><span class="line">      <span class="keyword">return</span> state.concat([ action.text ])</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建store，并且给state一个初始值['HTML']</span></span><br><span class="line"><span class="keyword">let</span> store = createStore(todos, [ <span class="string">'HTML'</span> ])</span><br><span class="line"></span><br><span class="line"><span class="comment">// state.dispatch()，最常用的API</span></span><br><span class="line"><span class="comment">// 修改state的唯一方式就是调用store.dispatch()方法</span></span><br><span class="line"><span class="comment">// 显然，其中的描述性对象</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//  type: 'ADD_TODO',</span></span><br><span class="line"><span class="comment">//  text: 'CSS'</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// 就是action</span></span><br><span class="line">store.dispatch(&#123;</span><br><span class="line">  type: <span class="string">'ADD_TODO'</span>,</span><br><span class="line">  text: <span class="string">'CSS'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// store.getState()，另一个常用的API</span></span><br><span class="line"><span class="comment">// 用来获取state的值</span></span><br><span class="line"><span class="built_in">console</span>.log(store.getState());  <span class="comment">// [ 'HTML', 'CSS' ]</span></span><br></pre></td></tr></table></figure></p><h3 id="store的API们"><a href="#store的API们" class="headerlink" title="store的API们"></a>store的API们</h3><p>store的API很简单，这儿我按重要顺序列出所有的API，主要记住前两个。<br>✦ dispatch(action)：触发action，再次声明，这是改变state的唯一方式，请默念两次<br>✦ getState()：获取当前的state<br>✦ subscribe(listener)：注册一个监听函数，state发生变化时触发<br>✦ replaceReducer(nextReducer)：替换reducer，用得较少</p><p>总结一下，store提供了简单的API，用来管理应用内的数据，它限制了只能通过dispatch(action)来修改state，那么这个action是什么呢？</p><h3 id="action是什么鬼？"><a href="#action是什么鬼？" class="headerlink" title="action是什么鬼？"></a>action是什么鬼？</h3><p>前文提过，action就是一个描述性的普通对象，所以它非常简单！说白了，就是一坨数据，然后这坨数据有名字。</p><h5 id="action"><a href="#action" class="headerlink" title="action"></a>action</h5><p>action是一个描述性的普通对象。推荐如下的action结构，type是action的名称，payload是附带的数据。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 显然，这个名字取得很浅显易懂</span></span><br><span class="line">    type: UPDATE_ARTICLES_LIST,</span><br><span class="line">    payload: &#123;</span><br><span class="line">        articles: articles,</span><br><span class="line">        lastkey: lastkey</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>值得注意的是：实际项目中，我们应该尽量减少action中附带的数据，比如想要更新某篇文章的标题，我们只需要携带文章id和文章新标题即可，而不需要携带整个新文章字段。<br>为了让action更便于维护，我们通常使用action creator而不是action。</p><h5 id="action-creator"><a href="#action-creator" class="headerlink" title="action creator"></a>action creator</h5><p>action create就是一个简单的函数，直接将action作为返回值。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// action creator，返回一个action</span></span><br><span class="line"><span class="comment">// 除此之外，没有其他的动作</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateArticlesList</span>(<span class="params">normalizeData, lastkey</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        type: UPDATE_ARTICLES_LIST,</span><br><span class="line">        payload: &#123;</span><br><span class="line">            normalizeData: normalizeData,</span><br><span class="line">            listLastkey: lastkey</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过dispatch触发一个action，这是我们修改state的唯一方式</span></span><br><span class="line">dispatch(updateArticlesList(</span><br><span class="line">    normalizeData,</span><br><span class="line">    lastkey</span><br><span class="line">));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将dispatch(action)整个动作取个别名，方便调用</span></span><br><span class="line"><span class="keyword">const</span> updatePosts = <span class="function">(<span class="params">normalizeData, lastkey</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> dispatch(updateArticlesList(</span><br><span class="line">        normalizeData,</span><br><span class="line">        lastkey</span><br><span class="line">    ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">updatePosts(...);</span><br></pre></td></tr></table></figure></p><h3 id="那么为什么需要action-creatore呢？"><a href="#那么为什么需要action-creatore呢？" class="headerlink" title="那么为什么需要action creatore呢？"></a>那么为什么需要action creatore呢？</h3><p>试想一个场景，我们有好几处dispatch(action)，现在突然想要修改这个action的定义，那么我们需要修改所有地方，代码也比较冗余!<br>而使用action creator，相当于对action做了简单的封装，避免了这些问题。既灵活又便于维护！</p><h5 id="异步action-creator"><a href="#异步action-creator" class="headerlink" title="异步action creator"></a>异步action creator</h5><p>我们已经知道，修改state的唯一方式就是触发action，也就是dispatch(action)。<br>但是如果是异步操作，比如一个网络请求，我们需要等到请求返回之后才会返回action，怎么办呢？<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateArticlesList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> GET(url).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 难道直接return action？</span></span><br><span class="line">        <span class="comment">// 显然是不行的，这儿的返回值并不是updateArticlesList函数的返回值</span></span><br><span class="line">        <span class="keyword">return</span> action;</span><br><span class="line">    &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>对于异步场景，我们的解决方案是返回函数而不是直接返回action。就像下面这样。<br>为了让dispatch方法可以接受函数作为参数，我们需要使用redux-thunk这个中间件。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">'redux-thunk'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; rootReducer &#125; <span class="keyword">from</span> <span class="string">'./reducer.js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">    rootReducer,</span><br><span class="line">    applyMiddleware(thunk)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>然后你就可以dispatch一个函数了<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetchArticlesList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 传入dispatch/getstate，当然是为了获取state以及更新state</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> GET(url).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">            dispatch(updateArticlesList(</span><br><span class="line">                normalizeData,</span><br><span class="line">                lastkey</span><br><span class="line">            ));</span><br><span class="line">        &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(err);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>看起来有点迷糊？其实就是把异步请求抽象成action creator，然后放到了redux的代码中。<br>试想一下，如果没有这种方式，你会怎么去处理异步请求？<br>是不是会在组件或者页面中去发异步请求，然后在回调函数中dispatch(action)更新state。本质上也没太大区别。但是好处却是很明显的。</p><p>稍微提一下，如果我们可以使用async/await的话，异步action creator可以长得和同步action creator差不多。</p><p>action就是一坨数据，它并没有告诉Redux应该怎么去更新state，接下来介绍的reducer就是负责如何更新state这个工作的。</p><h5 id="reducer是什么鬼？"><a href="#reducer是什么鬼？" class="headerlink" title="reducer是什么鬼？"></a>reducer是什么鬼？</h5><p>action本身没有任何意义，就是一个描述性的普通对象。它并没有说明这个数据应该如何更新state。<br>具体如何更新state，是由reducer决定的。reducer的核心就一行代码：(state, action) =&gt; newstate<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ------------------------------------</span></span><br><span class="line"><span class="comment">// Action Handlers</span></span><br><span class="line"><span class="comment">// ------------------------------------</span></span><br><span class="line"><span class="keyword">const</span> ACTION_HANDLERS = &#123;</span><br><span class="line">    [UPDATE_ARTICLES_DETAIL]: <span class="function">(<span class="params">articles, action</span>) =&gt;</span> articles,</span><br><span class="line">    [UPDATE_ARTICLES_LIST]: <span class="function">(<span class="params">articles, action</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> payload = action.payload,</span><br><span class="line">            normalizeData = payload.normalizeData,</span><br><span class="line">            list = articles.list.concat(normalizeData.result),</span><br><span class="line">            listLastkey = payload.listLastkey;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 更新articles.list字段和articles.lastkey字段</span></span><br><span class="line">        <span class="comment">// 这儿为什么不是state，而是articles呢？留着后文介绍</span></span><br><span class="line">        <span class="keyword">return</span> updateObject(articles, &#123;</span><br><span class="line">            list,</span><br><span class="line">            listLastkey</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ------------------------------------</span></span><br><span class="line"><span class="comment">// Reducer</span></span><br><span class="line"><span class="comment">// ------------------------------------</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">articlesReducer</span>(<span class="params">articles = &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    list: [],</span></span></span><br><span class="line"><span class="function"><span class="params">    listLastkey: <span class="number">0</span></span></span></span><br><span class="line"><span class="function"><span class="params">&#125;, action</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> handler = ACTION_HANDLERS[action.type]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> handler ? handler(articles, action) : articles</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>reducer函数应该是纯函数，它要保证：只要传入参数相同，那么返回的新state就一定相同。<br>所以永远不要再reducer中做如下操作：<br>✦ 修改传入的state参数<br>✦ 执行有副作用的操作，比如API请求，路由跳转等<br>✦ 调用非纯函数，比如Math.random()或Date.now()</p><p>而一旦state变得复杂、层级较多的时候，如何设计reducer就是一个比较复杂的话题了。<br>关于如何设计state？如何分拆reducer？reducer之间如何共享数据？以及如何重构reducer的代码？可以移步另一篇博客：如何最佳实践的设计reducer。</p><p>那么，回到最初的话题，引入Redux到我们的应用中，到底有什么好处？我们为什么需要一个专门的状态管理器？</p><h3 id="为啥要使用redux？"><a href="#为啥要使用redux？" class="headerlink" title="为啥要使用redux？"></a>为啥要使用redux？</h3><p>早些时候，前端并没有这么复杂，几乎不怎么涉及数据管理。<br>随着前端的发展，前端也开始引入MVC之类的架构，对数据、视图、逻辑进行拆分处理。为了保持数据和视图的同步，我们会频繁的操作DOM元素。简直是噩梦。<br>而后KnockoutJS，angularJS等出现了，他们都支持数据绑定，终于让开发可以不在频繁的操作DOM，而是仅仅修改数据，然后自动同步到view。<br>但这还不够彻底，数据仍然是分散的。我们会在controller中写很多操作数据、操作视图的代码，甚至存在冗余数据，想要修改、更新、同步的话，有很大的隐患。<br>Redux的出现，提供了对数据的集中管理，让单向数据流成为了可能。<br>另外，Redux还让前后端彻底分离变成了可能，这一点也有极大的意义。</p><h3 id="Redux的数据流"><a href="#Redux的数据流" class="headerlink" title="Redux的数据流"></a>Redux的数据流</h3><p>Redux通过一些限制告诉你：数据只能保存在我这儿，别想太分散！想要修改数据？告诉我一个带新数据的action，我会通过reducer自动修改，然后返回修改后的数据给你！<br>是的，redux很想“数据库”，数据被集中存储，并且只能通过“预先定义的action操作”来修改。</p><p>更厉害的是，配上支持数据绑定的视图库，你会发现一个神奇的事情：<br>之前我们是面向view和controller编程，随着项目的复杂，代码会彼此影响而且数据会分散到各处。<br>而引入redux之后，我们单纯的面向数据编程即可，我们在Redux中统一的管理数据，然后数据变换会反映到view上，而数据上的交互，本质上也是触发了Redux中的action。如下图</p><h3 id="Redux数据流"><a href="#Redux数据流" class="headerlink" title="Redux数据流"></a>Redux数据流</h3><p>所以，设计redux程序的时候，提前想清楚state的结构尤其重要，就好比设计数据库表结构之于后台。</p><p>服务器渲染让前后端彻底分离成为了可能<br>上图也可以看出，Redux构建出一份单向数据流。这让服务端渲染变成了可能，而这个特性，让前后端彻底分离变成了可能，还不用担心SEO的问题。<br>想当初，为了解决前后端分离的问题，大家费尽心思，奈何进展甚微，淘宝甚至提出中途岛midway项目，通过中间搭建由前端维护的Nodejs服务器来实现简单的渲染然后返回HTML，但其实这个Nodejs服务器一点都不简单，需要考虑太多东西，比如安全、性能、缓存等。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>Redux主要用于对数据进行集中管理，并且让整个应用的数据流变得清晰。让应用开发更流畅，数据管理更有效。有了Redux，开发者们慢慢的转化为面向数据编程，而不再是频繁的操作DOM，维护越来越复杂的controller逻辑。<br>简单来说，Redux的东西不多，更重要的是理解它的思路：<br>✦ 将整个应用的state储存在唯一的store对象中。<br>✦ state只能通过触发action来修改，其中action就是一个描述性的普通对象。<br>✦ 使用reducer来描述action如何改变state。<br>✦ Redux的单向数据流，可以实现服务端渲染，让前后端彻底分离成为可能，这个有里程碑的意义。<br>✦ Redux非常适合复杂的应用，尤其是多交互、多数据源的应用。</p><p>还是那句话，Redux将数据管理拆得很细，所以会有很多新东西去了解，但其实只要了解它的思想，其他的就很顺其自然了。</p><p>作者：齐修_qixiuss<br>链接：<a href="https://www.jianshu.com/p/d296a8c34936" target="_blank" rel="noopener">https://www.jianshu.com/p/d296a8c34936</a><br>來源：简书<br>简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Redux由Flux演变而来，提供几个简单的API来实现状态管理，所谓状态指的是应用数据，所以，Redux本质上是用来管理数据的。&lt;br&gt;进一步，Redux配合支持数据绑定的视图库使用，就可以将应用状态和视图一一对应，开发者不需要再去关心DOM操作，只关心如何组织数据即可。
      
    
    </summary>
    
      <category term="前端" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="react" scheme="http://ru23.github.io/note/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>JS 数组克隆方法总结</title>
    <link href="http://ru23.github.io/note/2018/09/21/JS%20%E6%95%B0%E7%BB%84%E5%85%8B%E9%9A%86%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <id>http://ru23.github.io/note/2018/09/21/JS 数组克隆方法总结/</id>
    <published>2018-09-21T11:22:37.000Z</published>
    <updated>2018-09-21T08:14:01.372Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ES5-方法总结"><a href="#ES5-方法总结" class="headerlink" title="ES5 方法总结"></a>ES5 方法总结</h2><h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">434</span>,<span class="number">43</span>]</span><br><span class="line"><span class="keyword">let</span> arr1= arr.slice()</span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">'a'</span></span><br><span class="line"><span class="built_in">console</span>.log(arr,arr1) <span class="comment">// [ 2, 4, 434, 43 ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr1 === arr) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h4 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.clone = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,l=<span class="keyword">this</span>.length;i&lt;l;i++) &#123;</span><br><span class="line">        a.push(<span class="keyword">this</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'aaa'</span>,<span class="string">'bbb'</span>,<span class="string">'ccc'</span>,<span class="string">'wwwww'</span>,<span class="string">'ddd'</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = arr.clone()</span><br><span class="line"><span class="built_in">console</span>.log(arr2)</span><br><span class="line"><span class="built_in">console</span>.log( arr2 === arr )</span><br></pre></td></tr></table></figure><h4 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.clone=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    <span class="keyword">return</span> [].concat(<span class="keyword">this</span>); </span><br><span class="line">    <span class="comment">//或者 return this.concat();</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'aaa'</span>,<span class="string">'asss'</span>]</span><br><span class="line"><span class="keyword">let</span> arr1 = arr.clone()</span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">123</span></span><br><span class="line"><span class="built_in">console</span>.log(arr,arr1)</span><br></pre></td></tr></table></figure><h2 id="ES6-方法总结"><a href="#ES6-方法总结" class="headerlink" title="ES6 方法总结"></a>ES6 方法总结</h2><h4 id="Object-assign-浅复制，也可以实现数组的克隆"><a href="#Object-assign-浅复制，也可以实现数组的克隆" class="headerlink" title="Object.assign() 浅复制，也可以实现数组的克隆"></a>Object.assign() 浅复制，也可以实现数组的克隆</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'sdsd'</span>,<span class="number">123</span>,<span class="number">123</span>,<span class="number">123</span>]</span><br><span class="line"><span class="keyword">let</span> arr1 = []</span><br><span class="line"><span class="built_in">Object</span>.assign(arr1,arr)</span><br><span class="line">arr[<span class="number">1</span>] = <span class="string">'aaaa'</span></span><br><span class="line"><span class="built_in">console</span>.log(arr,arr1) <span class="comment">// [ 'sdsd', 'aaaa', 123, 123 ] [ 'sdsd', 123, 123, 123 ]</span></span><br></pre></td></tr></table></figure><h4 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="keyword">const</span> a2 = [...a1];</span><br><span class="line">a1[<span class="number">0</span>] = <span class="string">'aaa'</span></span><br><span class="line"><span class="built_in">console</span>.log(a1,a2)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ES5-方法总结&quot;&gt;&lt;a href=&quot;#ES5-方法总结&quot; class=&quot;headerlink&quot; title=&quot;ES5 方法总结&quot;&gt;&lt;/a&gt;ES5 方法总结&lt;/h2&gt;&lt;h4 id=&quot;slice&quot;&gt;&lt;a href=&quot;#slice&quot; class=&quot;headerlink
      
    
    </summary>
    
      <category term="前端" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="js代码片段" scheme="http://ru23.github.io/note/tags/js%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    
  </entry>
  
  <entry>
    <title>前端周刊-2018年09月第3周</title>
    <link href="http://ru23.github.io/note/2018/09/21/%E5%89%8D%E7%AB%AF%E5%91%A8%E5%88%8A-2018%E5%B9%B409%E6%9C%88%E7%AC%AC3%E5%91%A8/"/>
    <id>http://ru23.github.io/note/2018/09/21/前端周刊-2018年09月第3周/</id>
    <published>2018-09-21T08:24:00.000Z</published>
    <updated>2018-09-21T08:28:08.082Z</updated>
    
    <content type="html"><![CDATA[<h2 id="编写「可读」代码的实践"><a href="#编写「可读」代码的实践" class="headerlink" title="编写「可读」代码的实践"></a><a href="http://taobaofed.org/blog/2017/01/05/writing-readable-code/" target="_blank" rel="noopener">编写「可读」代码的实践</a></h2><p><strong>链接:</strong><br><a href="http://taobaofed.org/blog/2017/01/05/writing-readable-code/" target="_blank" rel="noopener">http://taobaofed.org/blog/2017/01/05/writing-readable-code/</a></p><p><strong>摘要</strong><br>伟大的文学作品都是建立在废纸堆上的，不断删改作品的过程有助于写作者培养良好的「语感」。当然，代码毕竟不是艺术品，程序员没有精力也不一定有必要像作家一样反复打磨自己的代码/作品。但是，如果我们能够在编写代码时稍稍多考虑一下实现的合理性，或者在添加新功能的时候稍稍回顾一下之前的实现，我们就能够培养出一些「代码语感」。这种「代码语感」会非常有助于我们写出高质量的可读的代码。</p><h2 id="React-Redux-组件化方案"><a href="#React-Redux-组件化方案" class="headerlink" title="React + Redux 组件化方案"></a><a href="http://imweb.io/topic/57c531bc6227a4f55a8872c2" target="_blank" rel="noopener">React + Redux 组件化方案</a></h2><p><strong>链接:</strong><br><a href="http://imweb.io/topic/57c531bc6227a4f55a8872c2" target="_blank" rel="noopener">http://imweb.io/topic/57c531bc6227a4f55a8872c2</a></p><p><strong>摘要</strong><br>组件化方案:理想中的组件化，第一步应该就是组件的标签化， 例如有一个 Header 组件，无需关注组件内部的实现，我们只需要使用一个 <header> 标签就能调用它，通过设置属性的方式，来控制它的显示的内容，和对应的事件。借助 jsx 语法，React 已经实现上述想法。<br>但是由于 React 的数据流向是单向的， 子组件的数据和方法只能由父级组件赋予，一旦组件嵌套层次变深，传递数据将会变得非常复杂。<br>redux 框架解决了这个问题，简单来说，它将 react 由父级传递数据，变为了由一个统一的数据源 store 单向地向各个组件传递数据。<br>所有数据都存放在 store 中，组件内部不维护任何数据。</header></p><p>store 提供了 dispatch 方法来触发改变 store 中数据。 dispatch 传入的值被称作 action。 dispatch(action) 之后，会进入到 store 中称为 reducer 的处理函数，这些 reducer 会依据不同的 action 的类型，进行不同的处理，reducer 返回的值就会作为 store 中新的数据，一个 reducer 对应的是 store 中一个数据字段，每多一个reducer， store 中就多一个数据字段。数据发生改变后， store 就会通知对应的组件重新渲染。</p><p>通过 redux 框架提供的 connect 高阶函数， 直接从 store 选取需要的数据和申明需要使用的方法传入组件中，这些申明的方法是组件事件具体的逻辑的实现，例如发送请求，上报逻辑等等，所以通常调用 dispatch(action) 的逻辑也会包含在里面。</p><h2 id="ANT-DESIGN-PRO-开箱即用的中台前端-设计解决方案"><a href="#ANT-DESIGN-PRO-开箱即用的中台前端-设计解决方案" class="headerlink" title="ANT DESIGN PRO-开箱即用的中台前端/设计解决方案"></a><a href="http://imweb.io/topic/57c531bc6227a4f55a8872c2" target="_blank" rel="noopener">ANT DESIGN PRO-开箱即用的中台前端/设计解决方案</a></h2><p><strong>链接:</strong><br><a href="https://github.com/ant-design/ant-design-pro?utm_source=gold_browser_extension" target="_blank" rel="noopener">https://github.com/ant-design/ant-design-pro?utm_source=gold_browser_extension</a></p><p><strong>摘要</strong><br>💎 优雅美观：基于 Ant Design 体系精心设计；<br>📐 常见设计模式：提炼自中后台应用的典型页面和场景；<br>🚀 最新技术栈：使用 React/dva/antd 等前端前沿技术开发；<br>📱 响应式：针对不同屏幕大小设计；<br>🎨 主题：可配置的主题满足多样化的品牌诉求；<br>🌐 国际化：内建业界通用的国际化方案；<br>⚙️ 最佳实践：良好的工程实践助您持续产出高质量代码；<br>🔢 Mock 数据：实用的本地数据调试方案；<br>✅ UI 测试：自动化测试保障前端产品质量；</p><h2 id="实现一个完美符合Promise-A-规范的Promise"><a href="#实现一个完美符合Promise-A-规范的Promise" class="headerlink" title="实现一个完美符合Promise/A+规范的Promise"></a><a href="https://github.com/forthealllight/blog/issues/4" target="_blank" rel="noopener">实现一个完美符合Promise/A+规范的Promise</a></h2><p><strong>链接:</strong><br><a href="https://github.com/forthealllight/blog/issues/4" target="_blank" rel="noopener">https://github.com/forthealllight/blog/issues/4</a></p><p><strong>摘要</strong><br>Promise允许我们通过链式调用的方式来解决“回调地狱”的问题，特别是在异步过程中，通过Promise可以保证代码的整洁性和可读性。本文主要解读Promise/A+规范，并在此规范的基础上，自己实现一个Promise.</p><h2 id="Vue知识点整理"><a href="#Vue知识点整理" class="headerlink" title="Vue知识点整理"></a><a href="https://segmentfault.com/a/1190000016344599" target="_blank" rel="noopener">Vue知识点整理</a></h2><p><strong>链接</strong><br><a href="https://segmentfault.com/a/1190000016344599" target="_blank" rel="noopener">https://segmentfault.com/a/1190000016344599</a></p><ul><li>对于MVVM的理解？</li></ul><p>Model代表数据模型，也可以在Model中定义数据修改和操作的业务逻辑。<br>View 代表UI 组件，它负责将数据模型转化成UI 展现出来。<br>ViewModel 监听模型数据的改变和控制视图行为、处理用户交互，简单理解就是一个同步View 和 Model的对象，连接Model和View。<br>在MVVM架构下，View 和 Model 之间并没有直接的联系，而是通过ViewModel进行交互，Model 和 ViewModel 之间的交互是双向的， 因此View 数据的变化会同步到Model中，而Model 数据的变化也会立即反应到View 上。<br>ViewModel 通过双向数据绑定把 View 层和 Model 层连接了起来，而View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作DOM, 不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。</p><ul><li>Vue的生命周期（8个阶段：创建前/后, 载入前/后,更新前/后,销毁前/销毁后)</li></ul><p>Vue 实例从创建到销毁的过程，就是生命周期。从开始创建、初始化数据、编译模板、挂载Dom→渲染、更新→渲染、销毁等一系列过程，称之为 Vue 的生命周期。<br>beforeCreate（创建前） 在数据观测和初始化事件还未开始<br>created（创建后） 完成数据观测，属性和方法的运算，初始化事件，$el属性还没有显示出来<br>beforeMount（载入前） 在挂载开始之前被调用，相关的render函数首次被调用。实例已完成以下的配置：编译模板，把data里面的数据和模板生成html。注意此时还没有挂载html到页面上。<br>mounted（载入后） 在el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用。实例已完成以下的配置：用上面编译好的html内容替换el属性指向的DOM对象。完成模板中的html渲染到html页面中。此过程中进行ajax交互。<br>beforeUpdate（更新前） 在数据更新之前调用，发生在虚拟DOM重新渲染和打补丁之前。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程。<br>updated（更新后） 在由于数据更改导致的虚拟DOM重新渲染和打补丁之后调用。调用时，组件DOM已经更新，所以可以执行依赖于DOM的操作。然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服务器端渲染期间不被调用。<br>beforeDestroy（销毁前） 在实例销毁之前调用。实例仍然完全可用。<br>destroyed（销毁后） 在实例销毁之后调用。调用后，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务器端渲染期间不被调用。</p><ul><li><p>Vue实现数据双向绑定的原理：Object.defineProperty（）</p></li><li><p>Vue组件间的参数传递<br>1.父组件与子组件传值<br>父组件传给子组件：子组件通过props方法接受数据;<br>子组件传给父组件：$emit方法传递参数<br>2.非父子组件间的数据传递，兄弟组件传值<br>eventBus，就是创建一个事件中心，相当于中转站，可以用它来传递事件和接收事件。项目比较小时，用这个比较合适</p></li><li><p>vue路由的钩子函数</p></li></ul><p>首页可以控制导航跳转，beforeEach，afterEach等，一般用于页面title的修改。一些需要登录才能调整页面的重定向功能。</p><p>beforeEach主要有3个参数to，from，next：</p><p>to：route即将进入的目标路由对象，</p><p>from：route当前导航正要离开的路由</p><p>next：function一定要调用该方法resolve这个钩子。执行效果依赖next方法的调用参数。可以控制网页的跳转。</p><ul><li>vuex是什么？怎么使用？哪种功能场景使用它<br>只用来读取的状态集中放在store中； 改变状态的方式是提交mutations，这是个同步的事物； 异步逻辑应该封装在action中。<br>在main.js引入store，注入。新建了一个目录store，….. export 。<br>场景有：单页应用中，组件之间的状态、音乐播放、登录状态、加入购物车</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;编写「可读」代码的实践&quot;&gt;&lt;a href=&quot;#编写「可读」代码的实践&quot; class=&quot;headerlink&quot; title=&quot;编写「可读」代码的实践&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://taobaofed.org/blog/2017/01/05/writing
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>前端开发规范-used by frank</title>
    <link href="http://ru23.github.io/note/2018/09/21/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83-used-by-frank/"/>
    <id>http://ru23.github.io/note/2018/09/21/前端开发规范-used-by-frank/</id>
    <published>2018-09-21T08:20:34.000Z</published>
    <updated>2018-09-21T08:27:45.129Z</updated>
    
    <content type="html"><![CDATA[<h3 id="js方法注释规范"><a href="#js方法注释规范" class="headerlink" title="js方法注释规范"></a>js方法注释规范</h3><h3 id="规范的注释很重要"><a href="#规范的注释很重要" class="headerlink" title="规范的注释很重要"></a>规范的注释很重要</h3><p>代码是写给人看的，顺便给机器运行，多谢注释可以增加代码的可读性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">**************</span></span><br><span class="line"><span class="comment"> * @func 教师端请假功能 ;</span></span><br><span class="line"><span class="comment"> * @param &#123;String&#125; token 教师端头部的token;</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; a - 参数a;</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; b=1 - 参数b默认值为1;</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; c=1 - 参数c有两种支持的取值&lt;/br&gt;1—表示x&lt;/br&gt;2—表示xx;</span></span><br><span class="line"><span class="comment"> * @param &#123;object&#125; d - 参数d为一个对象;</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; d.e - 参数d的e属性;</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; d.f - 参数d的f属性;</span></span><br><span class="line"><span class="comment"> * @param &#123;object[]&#125; g - 参数g为一个对象数组;</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; g.h - 参数g数组中一项的h属性;</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; g.i - 参数g数组中一项的i属性;</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; [j] - 参数j是一个可选参数;</span></span><br><span class="line"><span class="comment"> * @description  2018年4月19日被frank开发于dev_sprint65分支，</span></span><br><span class="line"><span class="comment"> *   XX年XX月被XX在xx分支修改（原因或者修改的功能）;</span></span><br><span class="line"><span class="comment"> ****************/</span></span><br></pre></td></tr></table></figure><h3 id="变量命名规范"><a href="#变量命名规范" class="headerlink" title="变量命名规范"></a>变量命名规范</h3><p>1.标准变量命名使用驼峰式命名           <code>eg. let thisIsMyName;</code><br>2.常量全部大写，并使用下划线连接       <code>eg.  const MAX_COUNT = 10;</code></p><h3 id="项目规范"><a href="#项目规范" class="headerlink" title="项目规范"></a>项目规范</h3><p><strong>变量声明尽量提在函数首部，用一个var声明，不允许出现连着的两个var声明(也包括let，const)</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomethingWithItems</span>(<span class="params">items</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// use one var</span></span><br><span class="line">    <span class="keyword">var</span> value = <span class="number">10</span>,</span><br><span class="line">        result = value + <span class="number">10</span>,</span><br><span class="line">        i,</span><br><span class="line">        len;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, len = items.length; i &lt; len; i++) &#123;</span><br><span class="line">        result += <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>undefind使用规范（永远不要直接使用undefined进行变量判断，使用typeof和字符串’undefined’对变量进行判断。）</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// not good</span></span><br><span class="line"><span class="keyword">if</span> (person === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> person === <span class="string">'undefined'</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>用’===’和’!==’代替’==’, ‘!=’</strong><br><strong>使用对象的属性简写</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> job = <span class="string">'FrontEnd'</span></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> item = &#123;</span><br><span class="line">  job: job</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> item = &#123;</span><br><span class="line">  job</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>使用拓展运算符 … 复制数组</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> items = []</span><br><span class="line"><span class="keyword">const</span> itemsCopy = []</span><br><span class="line"><span class="keyword">const</span> len = items.length</span><br><span class="line"><span class="keyword">let</span> i</span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">  itemsCopy[i] = items[i]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">itemsCopy = [...items]</span><br></pre></td></tr></table></figure></p><p><strong>render使用</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">render: <span class="function">(<span class="params">h, params</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">'div'</span>, [</span><br><span class="line">        h(<span class="string">'span'</span>, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">                class: "table_details"</span><br><span class="line">            &#125;,</span><br><span class="line">            on: &#123;</span><br><span class="line">                click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.edit(params.index)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,),</span><br><span class="line">        h(<span class="string">'span'</span>, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">                class: "table_continue"</span><br><span class="line">            &#125;,</span><br><span class="line">            on: &#123;</span><br><span class="line">                click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.show(params.index)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,),</span><br><span class="line">        h(<span class="string">'span'</span>, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">                class: "table_more no_border_right"</span><br><span class="line">            &#125;,</span><br><span class="line">            on: &#123;</span><br><span class="line">                click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.remove(params.row.id)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,),</span><br><span class="line">        h(<span class="string">'Poptip'</span>, &#123;</span><br><span class="line">            props: &#123;</span><br><span class="line">                title:<span class="string">"项目变更"</span>,</span><br><span class="line">                content:<span class="string">"项目迁出"</span>,</span><br><span class="line">                placement:<span class="string">"bottom-end"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            on: &#123;</span><br><span class="line">                <span class="string">'on-ok'</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, [</span><br><span class="line">            h(<span class="string">'span'</span>, &#123;</span><br><span class="line">                attrs: &#123;</span><br><span class="line">                    class: "table_more no_border_right"</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        ])</span><br><span class="line">    ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>文档：有时间整理一下<a href="http://taobaofed.org/blog/2017/01/05/writing-readable-code/" target="_blank" rel="noopener">http://taobaofed.org/blog/2017/01/05/writing-readable-code/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;js方法注释规范&quot;&gt;&lt;a href=&quot;#js方法注释规范&quot; class=&quot;headerlink&quot; title=&quot;js方法注释规范&quot;&gt;&lt;/a&gt;js方法注释规范&lt;/h3&gt;&lt;h3 id=&quot;规范的注释很重要&quot;&gt;&lt;a href=&quot;#规范的注释很重要&quot; class=&quot;head
      
    
    </summary>
    
      <category term="前端" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端自动化" scheme="http://ru23.github.io/note/tags/%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://ru23.github.io/note/2018/09/20/hello-world/"/>
    <id>http://ru23.github.io/note/2018/09/20/hello-world/</id>
    <published>2018-09-20T03:30:45.449Z</published>
    <updated>2018-09-20T05:15:46.691Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>VsCode读取项目文件的Eslint规则 保存时自动修复格式错误</title>
    <link href="http://ru23.github.io/note/2018/09/17/VsCode%E8%AF%BB%E5%8F%96%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%9A%84Eslint%E8%A7%84%E5%88%99-%E4%BF%9D%E5%AD%98%E6%97%B6%E8%87%AA%E5%8A%A8%E4%BF%AE%E5%A4%8D%E6%A0%BC%E5%BC%8F%E9%94%99%E8%AF%AF/"/>
    <id>http://ru23.github.io/note/2018/09/17/VsCode读取项目文件的Eslint规则-保存时自动修复格式错误/</id>
    <published>2018-09-17T08:29:10.000Z</published>
    <updated>2018-09-21T08:29:31.094Z</updated>
    
    <content type="html"><![CDATA[<h4 id="配置："><a href="#配置：" class="headerlink" title="配置："></a>配置：</h4><h5 id="安装VsCode的EsLint和vetur插件"><a href="#安装VsCode的EsLint和vetur插件" class="headerlink" title="安装VsCode的EsLint和vetur插件"></a>安装VsCode的EsLint和vetur插件</h5><h5 id="为项目安装EsLint包"><a href="#为项目安装EsLint包" class="headerlink" title="为项目安装EsLint包"></a>为项目安装EsLint包</h5><p>注意要安装在开发环境上，还有就是如果你使用的是脚手架的话，选了Eslint选项，会自带这些包。</p><h5 id="在项目的根目录下添加-eslintrc-js"><a href="#在项目的根目录下添加-eslintrc-js" class="headerlink" title="在项目的根目录下添加.eslintrc.js"></a>在项目的根目录下添加.eslintrc.js</h5><p>用于校验代码格式，根据项目情况，可自行编写校验规则：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// Eslint规则</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>首选项设置：<br>将下面这部分放入首选项设置中：</p><pre><code class="js"><span class="string">"eslint.autoFixOnSave"</span>: <span class="literal">true</span>,  <span class="comment">//  启用保存时自动修复,默认只支持.js文件</span><span class="string">"eslint.validate"</span>: [   <span class="string">"javascript"</span>,  <span class="comment">//  用eslint的规则检测js文件</span>   {     <span class="string">"language"</span>: <span class="string">"vue"</span>,   <span class="comment">// 检测vue文件</span>     <span class="string">"autoFix"</span>: <span class="literal">true</span>   <span class="comment">//  为vue文件开启保存自动修复的功能</span>   },   {     <span class="string">"language"</span>: <span class="string">"html"</span>,     <span class="string">"autoFix"</span>: <span class="literal">true</span>   }, ],</code></pre><h3 id="大功告成："><a href="#大功告成：" class="headerlink" title="大功告成："></a>大功告成：</h3><p>点开文件，你可能会看到如下报错，无需一个一个去改，只要保存一下文件，就可以自动修复这些代码格式上的问题了。</p><blockquote><p>注意：<br>如果整个文件都飘红的话，不会一次性修改如果的格式问题，会一下改一部分，你可能需要多按几次保存。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;配置：&quot;&gt;&lt;a href=&quot;#配置：&quot; class=&quot;headerlink&quot; title=&quot;配置：&quot;&gt;&lt;/a&gt;配置：&lt;/h4&gt;&lt;h5 id=&quot;安装VsCode的EsLint和vetur插件&quot;&gt;&lt;a href=&quot;#安装VsCode的EsLint和vetur插件&quot; c
      
    
    </summary>
    
      <category term="前端" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>前端周刊-2018年09月第2周</title>
    <link href="http://ru23.github.io/note/2018/09/11/%E5%89%8D%E7%AB%AF%E5%91%A8%E5%88%8A-2018%E5%B9%B409%E6%9C%88%E7%AC%AC2%E5%91%A8/"/>
    <id>http://ru23.github.io/note/2018/09/11/前端周刊-2018年09月第2周/</id>
    <published>2018-09-11T08:18:25.000Z</published>
    <updated>2018-09-21T08:30:20.882Z</updated>
    
    <content type="html"><![CDATA[<h4 id="es6常用基础合集"><a href="#es6常用基础合集" class="headerlink" title="es6常用基础合集"></a><a href="https://www.jianshu.com/p/cfb0893c34f1" target="_blank" rel="noopener">es6常用基础合集</a></h4><h5 id="url-https-www-jianshu-com-p-cfb0893c34f1"><a href="#url-https-www-jianshu-com-p-cfb0893c34f1" class="headerlink" title="url:https://www.jianshu.com/p/cfb0893c34f1"></a>url:<a href="https://www.jianshu.com/p/cfb0893c34f1" target="_blank" rel="noopener">https://www.jianshu.com/p/cfb0893c34f1</a></h5><h5 id="知识点"><a href="#知识点" class="headerlink" title="知识点:"></a>知识点:</h5><p>let,const<br>箭头函数<br>模板字符串<br>解析结构<br>函数默认参数<br>展开运算符<br>对象字面量与class<br>Promise</p><h4 id="ES6新特性概览"><a href="#ES6新特性概览" class="headerlink" title="ES6新特性概览"></a><a href="http://www.cnblogs.com/Wayou/p/es6_new_features.html" target="_blank" rel="noopener">ES6新特性概览</a></h4><h5 id="url：-http-www-cnblogs-com-Wayou-p-es6-new-features-html"><a href="#url：-http-www-cnblogs-com-Wayou-p-es6-new-features-html" class="headerlink" title="url： http://www.cnblogs.com/Wayou/p/es6_new_features.html"></a>url： <a href="http://www.cnblogs.com/Wayou/p/es6_new_features.html" target="_blank" rel="noopener">http://www.cnblogs.com/Wayou/p/es6_new_features.html</a></h5><h5 id="知识点-1"><a href="#知识点-1" class="headerlink" title="知识点:"></a>知识点:</h5><p>箭头操作符<br>类的支持<br>增强的对象字面量<br>字符串模板<br>解构<br>参数默认值，不定参数，拓展参数<br>let与const 关键字<br>for of 值遍历<br>iterator, generator<br>模块<br>Map，Set 和 WeakMap，WeakSet<br>Proxies<br>Symbols<br>Math，Number，String，Object 的新API</p><h4 id="透彻掌握Promise的使用，读这篇就够了"><a href="#透彻掌握Promise的使用，读这篇就够了" class="headerlink" title="透彻掌握Promise的使用，读这篇就够了"></a><a href="https://www.jianshu.com/p/fe5f173276bd" target="_blank" rel="noopener">透彻掌握Promise的使用，读这篇就够了</a></h4><h5 id="url：https-www-jianshu-com-p-fe5f173276bd"><a href="#url：https-www-jianshu-com-p-fe5f173276bd" class="headerlink" title="url：https://www.jianshu.com/p/fe5f173276bd"></a>url：<a href="https://www.jianshu.com/p/fe5f173276bd" target="_blank" rel="noopener">https://www.jianshu.com/p/fe5f173276bd</a></h5><h5 id="知识点："><a href="#知识点：" class="headerlink" title="知识点："></a>知识点：</h5><p>实现方法<br>1.new Promise(fn),创建一个新的Promise对象并传入第一个执行方法。<br>2.resolve。成功的执行方法<br>3.reject。失败的执行方法<br>4.catch。失败的捕获。<br>5.then。链式调用下一步。<br>原理：<br>内部使用一个数组报错需要执行的所有方法，使用then来添加新的方法。旧的方法执行完毕之后检测数组，如果有新的就执行<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Promise</span> </span>&#123;</span><br><span class="line">result: any;</span><br><span class="line">callbacks = [];</span><br><span class="line">failbacks = [];</span><br><span class="line"><span class="keyword">constructor</span>(fn) &#123;</span><br><span class="line">fn(<span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>), <span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>));</span><br><span class="line">&#125;</span><br><span class="line">resolve(res) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.callbacks.length &gt; <span class="number">0</span>) <span class="keyword">this</span>.callbacks.shift()(res, <span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>), <span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>));</span><br><span class="line">&#125;</span><br><span class="line">reject(res) &#123;</span><br><span class="line"><span class="keyword">this</span>.callbacks = [];</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.failbacks.length &gt; <span class="number">0</span>) <span class="keyword">this</span>.failbacks.shift()(res, <span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>), <span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>));</span><br><span class="line">&#125; <span class="keyword">catch</span> (fn) &#123;</span><br><span class="line"><span class="keyword">this</span>.failbacks.push(fn);</span><br><span class="line">&#125;</span><br><span class="line">then(fn) &#123;</span><br><span class="line"><span class="keyword">this</span>.callbacks.push(fn);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>调用示例：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">resolve(<span class="string">"成功"</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">result, resolve, reject</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line">reject(<span class="string">"失败"</span>)</span><br><span class="line">&#125;).</span><br><span class="line"><span class="keyword">catch</span> (<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>es6写法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建promise</span></span><br><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 进行一些异步或耗时操作</span></span><br><span class="line">    <span class="keyword">if</span> ( <span class="comment">/*如果成功 */</span> ) &#123;</span><br><span class="line">        resolve(<span class="string">"Stuff worked!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="built_in">Error</span>(<span class="string">"It broke"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//绑定处理程序</span></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line"><span class="comment">//promise成功的话会执行这里</span></span><br><span class="line">    <span class="built_in">console</span>.log(result); <span class="comment">// "Stuff worked!"</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line"><span class="comment">//promise失败会执行这里</span></span><br><span class="line">    <span class="built_in">console</span>.log(err); <span class="comment">// Error: "It broke"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h4 id="4-前端算法相关"><a href="#4-前端算法相关" class="headerlink" title="4.前端算法相关"></a>4.<a href="https://github.com/qianbin01/frontend_train#sort" target="_blank" rel="noopener">前端算法相关</a></h4><h5 id="url-https-github-com-qianbin01-frontend-train-sort"><a href="#url-https-github-com-qianbin01-frontend-train-sort" class="headerlink" title="url:https://github.com/qianbin01/frontend_train#sort"></a>url:<a href="https://github.com/qianbin01/frontend_train#sort" target="_blank" rel="noopener">https://github.com/qianbin01/frontend_train#sort</a></h5><h5 id="知识点-2"><a href="#知识点-2" class="headerlink" title="知识点"></a>知识点</h5><p>冒泡排序</p><blockquote><p>比较两个相邻的项，如果第一个大于第二个则交换他们的位置,元素项向上移动至正确的顺序，就好像气泡往上冒一样</p></blockquote><p>快速排序:</p><blockquote><p> 1) 首先，在数组中选择一个中间项作为主元<br>2) 创建两个指针，左边的指向数组第一个项，右边的指向最后一个项，移动左指针，直到找到一个比主元大的项，接着，移动右边的指针，直到找到一个比主元小的项，然后交换它们。重复这个过程，直到<br> 左侧的指针超过了右侧的指针。这个使比主元小的都在左侧，比主元大的都在右侧。这一步叫划分操作<br>3) 接着，算法对划分后的小数组（较主元小的值组成的的小数组， 以及较主元大的值组成的小数组）重复之前的两个步骤，直到排序完成</p></blockquote><p>选择排序:</p><blockquote><p>大概思路是找到最小的放在第一位，找到第二小的放在第二位，以此类推 算法复杂度O(n^2)</p></blockquote><p>归并排序:</p><blockquote><p>归并排序：Mozilla Firefox 使用归并排序作为Array.prototype.sort的实现，而chrome使用快速排序的一个变体实现的,前面三种算法性能不好，但归并排序性能不错 算法复杂度O(nlog^n)<br>归并排序是一种分治算法。本质上就是把一个原始数组切分成较小的数组，直到每个小数组只有一个位置，接着把小数组归并成较大的数组，在归并过程中也会完成排序，直到最后只有一个排序完毕的大数组</p></blockquote><p>堆排序：</p><blockquote><p>堆排序把数组当中二叉树来排序而得名。<br>1）索引0是树的根节点；2）除根节点为，任意节点N的父节点是N/2；3）节点L的左子节点是2<em>L；4）节点R的右子节点为2</em>R + 1<br>本质上就是先构建二叉树，然后把根节点与最后一个进行交换，然后对剩下对元素进行二叉树构建，进行交换，直到剩下最后一个</p></blockquote><h4 id="5-javaScript常用知识点"><a href="#5-javaScript常用知识点" class="headerlink" title="5.javaScript常用知识点"></a>5.<a href="https://github.com/qianbin01/frontend_train#javascript" target="_blank" rel="noopener">javaScript常用知识点</a></h4><h5 id="url-https-github-com-qianbin01-frontend-train-javascript"><a href="#url-https-github-com-qianbin01-frontend-train-javascript" class="headerlink" title="url: https://github.com/qianbin01/frontend_train#javascript"></a>url: <a href="https://github.com/qianbin01/frontend_train#javascript" target="_blank" rel="noopener">https://github.com/qianbin01/frontend_train#javascript</a></h5><h5 id="知识点-3"><a href="#知识点-3" class="headerlink" title="知识点"></a>知识点</h5><p>map,reduce,filter的用法<br>js数据类型(7种)</p><blockquote><p>1.number;<br>2.string;<br>3.boolean;<br>4.undefined;<br>5.null;<br>6.symbol（ES6新增，文章后面有对着新类型的解释）Symbol 生成一个全局唯一的值。<br>7.Object.（包括Object，Array，Function）<br>闭包<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">y</span>) </span>&#123;</span><br><span class="line">        alert(x + y + (++tmp));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bar = foo(<span class="number">2</span>); <span class="comment">// bar 现在是一个闭包</span></span><br><span class="line">bar(<span class="number">10</span>);</span><br></pre></td></tr></table></figure></p></blockquote><p>结果是16<br>es6通常用let const块级作用域代替，<br>闭包缺点，ie中会引起内存泄漏，严格来说是ie的缺点不是闭包的问题</p><p>什么是立即执行函数？使用立即执行函数的目的是什么？<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常见两种方式</span></span><br><span class="line"><span class="number">1.</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;)()</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;)(<span class="number">12345</span>)</span><br><span class="line"><span class="number">2.</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;())</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;(<span class="number">12345</span>))</span><br><span class="line"><span class="comment">//作用 不破坏污染全局的命名空间，若需要使用，将其用变量传入如</span></span><br><span class="line">（<span class="function"><span class="keyword">function</span>(<span class="params">window</span>)</span>&#123;...&#125;(<span class="built_in">window</span>)）</span><br></pre></td></tr></table></figure></p><p>async/await 语法<br>深浅拷贝<br>数组去重<br>思路1：定义一个新数组，并存放原数组的第一个元素，然后将元素组一一和新数组的元素对比，若不同则存放在新数组中<br>思路2：先将原数组排序，在与相邻的进行比较，如果不同则存入新数组。<br>思路3：利用对象属性存在的特性，如果没有该属性则存入新数组。<br>思路4（最常用）：使用es6 set<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr= [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>];</span><br><span class="line"><span class="built_in">console</span>.log([...new <span class="built_in">Set</span>(arr)]);</span><br></pre></td></tr></table></figure></p><p>JS原型</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;es6常用基础合集&quot;&gt;&lt;a href=&quot;#es6常用基础合集&quot; class=&quot;headerlink&quot; title=&quot;es6常用基础合集&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.jianshu.com/p/cfb0893c34f1&quot; target=&quot;_b
      
    
    </summary>
    
      <category term="前端周刊" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF%E5%91%A8%E5%88%8A/"/>
    
    
      <category term="优质文章分享" scheme="http://ru23.github.io/note/tags/%E4%BC%98%E8%B4%A8%E6%96%87%E7%AB%A0%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>reactjs中事件传参(关于event)</title>
    <link href="http://ru23.github.io/note/2018/09/10/reactjs%E4%B8%AD%E4%BA%8B%E4%BB%B6%E4%BC%A0%E5%8F%82-%E5%85%B3%E4%BA%8Eevent/"/>
    <id>http://ru23.github.io/note/2018/09/10/reactjs中事件传参-关于event/</id>
    <published>2018-09-10T07:06:44.000Z</published>
    <updated>2018-09-20T03:46:25.540Z</updated>
    
    <content type="html"><![CDATA[<h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p>我们在事件中通常需要获取控件的值，通常通过event.target.value的方式来取值，在绑定事件时，event参数也不需要传递，在方法中直接使用即可。<br>但是，有些时候需要传入一些其他的参数，比如需要循环绑定一些输入框，在绑定onChange事件时，需要传入索引index和数据源的索引进行对应<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">onHandleChange(index,event)&#123;</span><br><span class="line">    <span class="keyword">let</span> val=event.target.value</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//关键代码</span></span><br><span class="line">source.map(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> &lt;input type="text" value=&#123;item.name&#125; </span><br><span class="line">      onChange=&#123;this.onHandleChange.bind(this,index)&#125; /&gt;</span><br><span class="line">&#125;);</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">#### 代码解释</span><br><span class="line">有的同学应该已经看出区别了，onHandleChange在声明时有两个参数，但在调用时却只传递了一个参数，这就是今天要讲的:</span><br><span class="line"></span><br><span class="line">&gt; **在给方法传递新参数时，方法原有的参数会排在新参数之后**</span><br><span class="line"></span><br><span class="line">做过reactjs的同学都知道，event这个参数是不需要手动传递的，直接在方法中声明就可以使用，如下代码：</span><br><span class="line">```jsx</span><br><span class="line">onChangeHandle(event)&#123;</span><br><span class="line">      let val=event.target.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render()&#123;</span><br><span class="line">  return (&lt;div&gt;</span><br><span class="line">    &lt;input type="text" onChange=&#123;this.onChangeHandle.bind(this)&#125; /&gt;</span><br><span class="line">&lt;/div&gt;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="摘自"><a href="#摘自" class="headerlink" title="摘自"></a>摘自</h4><blockquote><p>作者：不将就人生<br>链接：<a href="https://www.jianshu.com/p/1026d71d04d6" target="_blank" rel="noopener">https://www.jianshu.com/p/1026d71d04d6</a><br>來源：简书<br>简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h4&gt;&lt;p&gt;我们在事件中通常需要获取控件的值，通常通过event.target.value的方式来取值，在绑定事件时，event参数也不
      
    
    </summary>
    
    
      <category term="react" scheme="http://ru23.github.io/note/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>前端开发周刊-(2018年09月第2周)</title>
    <link href="http://ru23.github.io/note/2018/09/10/ES6-%E5%9F%BA%E7%A1%80-%E3%80%90%E5%A5%BD%E6%96%87%E5%88%86%E4%BA%AB%E3%80%91/"/>
    <id>http://ru23.github.io/note/2018/09/10/ES6-基础-【好文分享】/</id>
    <published>2018-09-10T03:48:21.000Z</published>
    <updated>2018-09-20T03:46:25.524Z</updated>
    
    <content type="html"><![CDATA[<h4 id="es6常用基础合集"><a href="#es6常用基础合集" class="headerlink" title="es6常用基础合集"></a><a href="https://www.jianshu.com/p/cfb0893c34f1" target="_blank" rel="noopener">es6常用基础合集</a></h4><h5 id="url-https-www-jianshu-com-p-cfb0893c34f1"><a href="#url-https-www-jianshu-com-p-cfb0893c34f1" class="headerlink" title="url:https://www.jianshu.com/p/cfb0893c34f1"></a>url:<a href="https://www.jianshu.com/p/cfb0893c34f1" target="_blank" rel="noopener">https://www.jianshu.com/p/cfb0893c34f1</a></h5><h5 id="知识点"><a href="#知识点" class="headerlink" title="知识点:"></a>知识点:</h5><p>let,const<br>箭头函数<br>模板字符串<br>解析结构<br>函数默认参数<br>展开运算符<br>对象字面量与class<br>Promise</p><h4 id="ES6新特性概览"><a href="#ES6新特性概览" class="headerlink" title="ES6新特性概览"></a><a href="http://www.cnblogs.com/Wayou/p/es6_new_features.html" target="_blank" rel="noopener">ES6新特性概览</a></h4><h5 id="url：-http-www-cnblogs-com-Wayou-p-es6-new-features-html"><a href="#url：-http-www-cnblogs-com-Wayou-p-es6-new-features-html" class="headerlink" title="url： http://www.cnblogs.com/Wayou/p/es6_new_features.html"></a>url： <a href="http://www.cnblogs.com/Wayou/p/es6_new_features.html" target="_blank" rel="noopener">http://www.cnblogs.com/Wayou/p/es6_new_features.html</a></h5><h5 id="知识点-1"><a href="#知识点-1" class="headerlink" title="知识点:"></a>知识点:</h5><p>箭头操作符<br>类的支持<br>增强的对象字面量<br>字符串模板<br>解构<br>参数默认值，不定参数，拓展参数<br>let与const 关键字<br>for of 值遍历<br>iterator, generator<br>模块<br>Map，Set 和 WeakMap，WeakSet<br>Proxies<br>Symbols<br>Math，Number，String，Object 的新API</p><h4 id="透彻掌握Promise的使用，读这篇就够了"><a href="#透彻掌握Promise的使用，读这篇就够了" class="headerlink" title="透彻掌握Promise的使用，读这篇就够了"></a><a href="https://www.jianshu.com/p/fe5f173276bd" target="_blank" rel="noopener">透彻掌握Promise的使用，读这篇就够了</a></h4><h5 id="url：https-www-jianshu-com-p-fe5f173276bd"><a href="#url：https-www-jianshu-com-p-fe5f173276bd" class="headerlink" title="url：https://www.jianshu.com/p/fe5f173276bd"></a>url：<a href="https://www.jianshu.com/p/fe5f173276bd" target="_blank" rel="noopener">https://www.jianshu.com/p/fe5f173276bd</a></h5><h5 id="知识点："><a href="#知识点：" class="headerlink" title="知识点："></a>知识点：</h5><p>实现方法<br>1.new Promise(fn),创建一个新的Promise对象并传入第一个执行方法。<br>2.resolve。成功的执行方法<br>3.reject。失败的执行方法<br>4.catch。失败的捕获。<br>5.then。链式调用下一步。<br>原理：<br>内部使用一个数组报错需要执行的所有方法，使用then来添加新的方法。旧的方法执行完毕之后检测数组，如果有新的就执行<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Promise</span> </span>&#123;</span><br><span class="line">result: any;</span><br><span class="line">callbacks = [];</span><br><span class="line">failbacks = [];</span><br><span class="line"><span class="keyword">constructor</span>(fn) &#123;</span><br><span class="line">fn(<span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>), <span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>));</span><br><span class="line">&#125;</span><br><span class="line">resolve(res) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.callbacks.length &gt; <span class="number">0</span>) <span class="keyword">this</span>.callbacks.shift()(res, <span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>), <span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>));</span><br><span class="line">&#125;</span><br><span class="line">reject(res) &#123;</span><br><span class="line"><span class="keyword">this</span>.callbacks = [];</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.failbacks.length &gt; <span class="number">0</span>) <span class="keyword">this</span>.failbacks.shift()(res, <span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>), <span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>));</span><br><span class="line">&#125; <span class="keyword">catch</span> (fn) &#123;</span><br><span class="line"><span class="keyword">this</span>.failbacks.push(fn);</span><br><span class="line">&#125;</span><br><span class="line">then(fn) &#123;</span><br><span class="line"><span class="keyword">this</span>.callbacks.push(fn);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>调用示例：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">resolve(<span class="string">"成功"</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">result, resolve, reject</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line">reject(<span class="string">"失败"</span>)</span><br><span class="line">&#125;).</span><br><span class="line"><span class="keyword">catch</span> (<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>es6写法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建promise</span></span><br><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 进行一些异步或耗时操作</span></span><br><span class="line">    <span class="keyword">if</span> ( <span class="comment">/*如果成功 */</span> ) &#123;</span><br><span class="line">        resolve(<span class="string">"Stuff worked!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="built_in">Error</span>(<span class="string">"It broke"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//绑定处理程序</span></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line"><span class="comment">//promise成功的话会执行这里</span></span><br><span class="line">    <span class="built_in">console</span>.log(result); <span class="comment">// "Stuff worked!"</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line"><span class="comment">//promise失败会执行这里</span></span><br><span class="line">    <span class="built_in">console</span>.log(err); <span class="comment">// Error: "It broke"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h4 id="4-前端算法相关"><a href="#4-前端算法相关" class="headerlink" title="4.前端算法相关"></a>4.<a href="https://github.com/qianbin01/frontend_train#sort" target="_blank" rel="noopener">前端算法相关</a></h4><h5 id="url-https-github-com-qianbin01-frontend-train-sort"><a href="#url-https-github-com-qianbin01-frontend-train-sort" class="headerlink" title="url:https://github.com/qianbin01/frontend_train#sort"></a>url:<a href="https://github.com/qianbin01/frontend_train#sort" target="_blank" rel="noopener">https://github.com/qianbin01/frontend_train#sort</a></h5><h5 id="知识点-2"><a href="#知识点-2" class="headerlink" title="知识点"></a>知识点</h5><p>冒泡排序</p><blockquote><p>比较两个相邻的项，如果第一个大于第二个则交换他们的位置,元素项向上移动至正确的顺序，就好像气泡往上冒一样</p></blockquote><p>快速排序:</p><blockquote><p> 1) 首先，在数组中选择一个中间项作为主元<br>2) 创建两个指针，左边的指向数组第一个项，右边的指向最后一个项，移动左指针，直到找到一个比主元大的项，接着，移动右边的指针，直到找到一个比主元小的项，然后交换它们。重复这个过程，直到<br> 左侧的指针超过了右侧的指针。这个使比主元小的都在左侧，比主元大的都在右侧。这一步叫划分操作<br>3) 接着，算法对划分后的小数组（较主元小的值组成的的小数组， 以及较主元大的值组成的小数组）重复之前的两个步骤，直到排序完成</p></blockquote><p>选择排序:</p><blockquote><p>大概思路是找到最小的放在第一位，找到第二小的放在第二位，以此类推 算法复杂度O(n^2)</p></blockquote><p>归并排序:</p><blockquote><p>归并排序：Mozilla Firefox 使用归并排序作为Array.prototype.sort的实现，而chrome使用快速排序的一个变体实现的,前面三种算法性能不好，但归并排序性能不错 算法复杂度O(nlog^n)<br>归并排序是一种分治算法。本质上就是把一个原始数组切分成较小的数组，直到每个小数组只有一个位置，接着把小数组归并成较大的数组，在归并过程中也会完成排序，直到最后只有一个排序完毕的大数组</p></blockquote><p>堆排序：</p><blockquote><p>堆排序把数组当中二叉树来排序而得名。<br>1）索引0是树的根节点；2）除根节点为，任意节点N的父节点是N/2；3）节点L的左子节点是2<em>L；4）节点R的右子节点为2</em>R + 1<br>本质上就是先构建二叉树，然后把根节点与最后一个进行交换，然后对剩下对元素进行二叉树构建，进行交换，直到剩下最后一个</p></blockquote><h4 id="5-javaScript常用知识点"><a href="#5-javaScript常用知识点" class="headerlink" title="5.javaScript常用知识点"></a>5.<a href="https://github.com/qianbin01/frontend_train#javascript" target="_blank" rel="noopener">javaScript常用知识点</a></h4><h5 id="url-https-github-com-qianbin01-frontend-train-javascript"><a href="#url-https-github-com-qianbin01-frontend-train-javascript" class="headerlink" title="url: https://github.com/qianbin01/frontend_train#javascript"></a>url: <a href="https://github.com/qianbin01/frontend_train#javascript" target="_blank" rel="noopener">https://github.com/qianbin01/frontend_train#javascript</a></h5><h5 id="知识点-3"><a href="#知识点-3" class="headerlink" title="知识点"></a>知识点</h5><p>map,reduce,filter的用法<br>js数据类型(7种)</p><blockquote><p>1.number;<br>2.string;<br>3.boolean;<br>4.undefined;<br>5.null;<br>6.symbol（ES6新增，文章后面有对着新类型的解释）Symbol 生成一个全局唯一的值。<br>7.Object.（包括Object，Array，Function）<br>闭包<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">y</span>) </span>&#123;</span><br><span class="line">        alert(x + y + (++tmp));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bar = foo(<span class="number">2</span>); <span class="comment">// bar 现在是一个闭包</span></span><br><span class="line">bar(<span class="number">10</span>);</span><br></pre></td></tr></table></figure></p></blockquote><p>结果是16<br>es6通常用let const块级作用域代替，<br>闭包缺点，ie中会引起内存泄漏，严格来说是ie的缺点不是闭包的问题</p><p>什么是立即执行函数？使用立即执行函数的目的是什么？<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常见两种方式</span></span><br><span class="line"><span class="number">1.</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;)()</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;)(<span class="number">12345</span>)</span><br><span class="line"><span class="number">2.</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;())</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;(<span class="number">12345</span>))</span><br><span class="line"><span class="comment">//作用 不破坏污染全局的命名空间，若需要使用，将其用变量传入如</span></span><br><span class="line">（<span class="function"><span class="keyword">function</span>(<span class="params">window</span>)</span>&#123;...&#125;(<span class="built_in">window</span>)）</span><br></pre></td></tr></table></figure></p><p>async/await 语法<br>深浅拷贝<br>数组去重<br>思路1：定义一个新数组，并存放原数组的第一个元素，然后将元素组一一和新数组的元素对比，若不同则存放在新数组中<br>思路2：先将原数组排序，在与相邻的进行比较，如果不同则存入新数组。<br>思路3：利用对象属性存在的特性，如果没有该属性则存入新数组。<br>思路4（最常用）：使用es6 set<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr= [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>];</span><br><span class="line"><span class="built_in">console</span>.log([...new <span class="built_in">Set</span>(arr)]);</span><br></pre></td></tr></table></figure></p><p>JS原型</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;es6常用基础合集&quot;&gt;&lt;a href=&quot;#es6常用基础合集&quot; class=&quot;headerlink&quot; title=&quot;es6常用基础合集&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.jianshu.com/p/cfb0893c34f1&quot; target=&quot;_b
      
    
    </summary>
    
      <category term="优质文章分享" scheme="http://ru23.github.io/note/categories/%E4%BC%98%E8%B4%A8%E6%96%87%E7%AB%A0%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="优质文章分享" scheme="http://ru23.github.io/note/tags/%E4%BC%98%E8%B4%A8%E6%96%87%E7%AB%A0%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>NodeJS连接MySQL时遇到的问题 Error Connection lost The server closed the connection.</title>
    <link href="http://ru23.github.io/note/2018/09/07/NodeJS%E8%BF%9E%E6%8E%A5MySQL%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%20Error%20Connection%20lost%20The%20server%20closed%20the%20connection/"/>
    <id>http://ru23.github.io/note/2018/09/07/NodeJS连接MySQL时遇到的问题 Error Connection lost The server closed the connection/</id>
    <published>2018-09-07T07:54:30.000Z</published>
    <updated>2018-09-20T03:46:25.524Z</updated>
    
    <content type="html"><![CDATA[<p>今天用NodeJS连接Mysql时遇到点折磨人的问题，记录下解决方法。</p><p>NodeJS和Mysql都已经正确安装了，但是NodeJS和Mysql的连接出现问题，查找网上一些解决办法都不能解决问题。<br>报错如下：<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45206239-1cfe7e80-b2b7-11e8-96d3-c104fa5c7b14.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure></p><p>经过查找定位，在mysql官网找到了解决方案：</p><p><a href="https://dev.mysql.com/doc/dev/connector-nodejs/8.0/" target="_blank" rel="noopener">官网链接 》》MySQL Connector/Node.js</a><br>MySql 针对node的连接器对mysql的版本有要求，且需要另外的插件：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45206324-520ad100-b2b7-11e8-8814-8d6d5b2fb7ae.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure><p>然后下载的最新版的mysql mysql-installer-community-5.7.20.0.msi</p><p>执行 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install mysql</span><br><span class="line"></span><br><span class="line">npm install @mysql/xdevapi</span><br></pre></td></tr></table></figure></p><p>运行<a href="https://github.com/mysqljs/mysql#introduction" target="_blank" rel="noopener">官方示例</a>，成功。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天用NodeJS连接Mysql时遇到点折磨人的问题，记录下解决方法。&lt;/p&gt;
&lt;p&gt;NodeJS和Mysql都已经正确安装了，但是NodeJS和Mysql的连接出现问题，查找网上一些解决办法都不能解决问题。&lt;br&gt;报错如下：&lt;br&gt;&lt;figure class=&quot;image
      
    
    </summary>
    
      <category term="前端" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="node" scheme="http://ru23.github.io/note/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>使用hexo搭建github.io博客</title>
    <link href="http://ru23.github.io/note/2018/09/07/%E4%BD%BF%E7%94%A8hexo%E6%90%AD%E5%BB%BAgithub-io%E5%8D%9A%E5%AE%A2/"/>
    <id>http://ru23.github.io/note/2018/09/07/使用hexo搭建github-io博客/</id>
    <published>2018-09-07T02:57:11.000Z</published>
    <updated>2018-09-20T03:46:25.540Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><blockquote><p>回顾一下我三年搭建博客的历程，最初是选择wordpress，Wordpress全部由php编写，数组库采用MySQL。优点：用户只需要将Wordpress的源代码复制到网站根目录下，然后访问网站，之后的安装操作全部在浏览器上完成。即使不是软件行业的人，也可以在几分钟之内完成安装工作。甚至很多虚拟主机供应商都提供了Wordpress的一键式安装工具。用户连上传文件的步骤都省了。缺点：项目太臃肿了，Wordpress耗损CPU严重，不容易操作，运行稍慢。尤其是后期文章数目较多的时候，想要登陆下网站的管理后台，心态简直是抓狂的。loading了好久，有时候还会失败，发一篇文章也很费劲，索性就不维护了。<br>后来在github网站上找到一个vue模板：<a href="https://github.com/ye63/vue-blog-use-github-issues" target="_blank" rel="noopener">github地址</a>和<a href="https://ye63.com/jy/" target="_blank" rel="noopener">demo预览</a>二次开发了一下，的确是实现了很多功能，也挺轻便的，样式也可以自定义，博客可以直接写在github的issue，很方便，用了三个月后才发现百度的搜索引擎居然只收录了首页，搜索引擎的基础爬虫的原理就是抓取你的url，然后获取你的html源代码并解析。 而你的页面通常用了vue等js的数据绑定机制来展示页面数据，爬虫获取到的html是你的模型页面而不是最终数据的渲染页面，所以说用js来渲染数据对seo并不友好。而且github api在国内访问速度也没有想象中那么快，可能是github的CDN被墙屏了。<br> 使用github.io可以搭建一个自己的博客,把静态文件项目托管到github上,可以写博客,可以使用markdown语法,也可以展示作品.灵活性高.但是有较大的难度,但是这对于一个熟悉git操作的前端开发工程师来说，都不算什么的。重点是hexo和github.io的域名和服务器都是<strong>免费</strong>的。当然也可以选择用自己的服务器和域名。</p></blockquote><h3 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h3><h4 id="安装-node-git，注册好github账号"><a href="#安装-node-git，注册好github账号" class="headerlink" title="安装 node,git，注册好github账号"></a>安装 node,git，注册好github账号</h4><p> (网站有很多教程，安装方法这里就不详细展开了，<strong>注意:github账号用户名一定不能有大写.</strong>)</p><h4 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo:"></a>安装hexo:</h4> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure><h4 id="创建hexo文件夹"><a href="#创建hexo文件夹" class="headerlink" title="创建hexo文件夹:"></a>创建hexo文件夹:</h4><p>cmd窗口切换到对应的目录下,然后执行: <code>hexo init</code><br>也可以在 E:\hexo 下右键,选择git bash,在窗口中执行<code>hexo init</code><br>自动安装了需要的文件.</p><h4 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖:"></a>安装依赖:</h4><p>继续执行: <code>npm install</code></p><h4 id="完成本地安装"><a href="#完成本地安装" class="headerlink" title="完成本地安装:"></a>完成本地安装:</h4><p>继续在 <code>E:\hexo</code> 下执行:  <code>hexo generate</code></p><p>继续执行: <code>hexo server</code></p><p>然后在打开浏览器 <code>localhost:4000</code> ,就可以看到,本地已经安装好了.</p><h4 id="在github上创建博客仓库"><a href="#在github上创建博客仓库" class="headerlink" title="在github上创建博客仓库:"></a>在github上创建博客仓库:</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45201116-7ca05e00-b2a6-11e8-8e6c-8658ee49dc8f.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure><p> 跳转的后如下填写:(其中Repository name的格式是 ‘用户名’.github.io  ),然后点创建仓库，Repository name必须和用户名（Owner）一致，不能有大写字母<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45201238-1e27af80-b2a7-11e8-8eb4-ad31cfbaf6f6.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure><br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45201369-a73ee680-b2a7-11e8-9c20-8a347e477f0b.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure></p><h4 id="创建SSH-keys"><a href="#创建SSH-keys" class="headerlink" title="创建SSH keys"></a>创建SSH keys</h4><h5 id="监测是否有已经存在的SSH-keys"><a href="#监测是否有已经存在的SSH-keys" class="headerlink" title="监测是否有已经存在的SSH keys:"></a>监测是否有已经存在的SSH keys:</h5><p>打开 <code>git bash</code> 终端(可以在  E:\hexo 下右键打开,也可以直接在开始菜单里打开)</p><p>执行:  <code>$ ls -al ~/.ssh</code><br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45201445-f7b64400-b2a7-11e8-91d2-704c587815a6.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure></p><h5 id="如果没有的话-就生成一个SSH-keys-写自己的邮箱"><a href="#如果没有的话-就生成一个SSH-keys-写自己的邮箱" class="headerlink" title="如果没有的话,就生成一个SSH keys: 写自己的邮箱"></a>如果没有的话,就生成一个SSH keys: 写自己的邮箱</h5><p><code>$ ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</code></p><p>然后会出现:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/Users/you/.ssh/id_rsa):</span><br></pre></td></tr></table></figure></p><p>就是让你输入SSH keys要保存在哪里,一般不用改,就直接回车就好了.输入一个密码,这个密码后面会用到,所以要记住咯</p><h5 id="保存SSH-keys"><a href="#保存SSH-keys" class="headerlink" title="保存SSH keys:"></a>保存SSH keys:</h5><p>创建成功后,他会提示你SSH keys保存在哪里:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved in /Users/you/.ssh/id_rsa.</span><br><span class="line"></span><br><span class="line"># Your public key has been saved in /Users/you/.ssh/id_rsa.pub.</span><br><span class="line"></span><br><span class="line"># The key fingerprint is:</span><br><span class="line"></span><br><span class="line"># 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@example.com</span><br></pre></td></tr></table></figure></p><h5 id="找到SSH-keys"><a href="#找到SSH-keys" class="headerlink" title="找到SSH keys:"></a>找到SSH keys:</h5><p>根据上一步里告诉你的路径,找到保存SSH keys的地方,我的是在 C:\Users\2000104591.ssh</p><p>其中 id_rsa.pub 就是SSH keys 如果为了防止以后找不到,可以把他们自己另存到其它地方</p><h4 id="为github仓库添加SSH-keys"><a href="#为github仓库添加SSH-keys" class="headerlink" title="为github仓库添加SSH keys"></a>为github仓库添加SSH keys</h4><p>然后把创建的id_rsa.pub里的内容复制到Key里去,Title部分随便填. 点击’Add key’</p><p>添加的过程中,还要再输入一次github的密码<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45201608-c0946280-b2a8-11e8-94f4-f091267ce8d7.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure></p><h4 id="配置-config-yml文件并发布"><a href="#配置-config-yml文件并发布" class="headerlink" title="配置_config.yml文件并发布:"></a>配置_config.yml文件并发布:</h4><p>在 <code>E:\hexo</code>(文件根目录下) 下,有一个文件叫 _config.yml ,打开它,拉到最底下,做如下修改:　</p><p>然后再执行:</p><p><code>hexo generate</code></p><p><code>hexo deploy</code></p><p>然后访问: <a href="https://ye63.github.io/" target="_blank" rel="noopener">https://ye63.github.io/</a> (用户名改成自己的),就可以看到了.</p><h4 id="快捷命令"><a href="#快捷命令" class="headerlink" title="快捷命令"></a>快捷命令</h4><h5 id="hexo-新建一篇文章给它添加分类和标签"><a href="#hexo-新建一篇文章给它添加分类和标签" class="headerlink" title="hexo 新建一篇文章给它添加分类和标签:"></a>hexo 新建一篇文章给它添加分类和标签:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;移动端限制input框只能输入数字&quot;</span><br></pre></td></tr></table></figure><h5 id="通过mou编辑器打开：添加tags和categories"><a href="#通过mou编辑器打开：添加tags和categories" class="headerlink" title="通过mou编辑器打开：添加tags和categories"></a>通过mou编辑器打开：添加tags和categories</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: title #文章標題</span><br><span class="line">date: 2016-06-01 23:47:44 #文章生成時間</span><br><span class="line">categories: &quot;Hexo教程&quot; #文章分類目錄 可以省略</span><br><span class="line">tags: #文章标签 可以省略</span><br><span class="line">     - 标签1</span><br><span class="line">     - 标签2</span><br><span class="line">description: #你對本頁的描述 可以省略</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h5 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><h5 id="创建新页面"><a href="#创建新页面" class="headerlink" title="创建新页面"></a>创建新页面</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;about&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;回顾一下我三年搭建博客的历程，最初
      
    
    </summary>
    
      <category term="Hexo教程" scheme="http://ru23.github.io/note/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>javascript截取文件名的后缀</title>
    <link href="http://ru23.github.io/note/2018/09/06/javascript%E6%88%AA%E5%8F%96%E6%96%87%E4%BB%B6%E5%90%8D%E7%9A%84%E5%90%8E%E7%BC%80/"/>
    <id>http://ru23.github.io/note/2018/09/06/javascript截取文件名的后缀/</id>
    <published>2018-09-06T11:22:37.000Z</published>
    <updated>2018-09-20T03:46:25.524Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fileName=<span class="string">"text.png"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//带.的格式</span></span><br><span class="line"><span class="keyword">let</span> fileFormat=fileName.substring(fileName.lastIndexOf(<span class="string">'.'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不带.的格式</span></span><br><span class="line"><span class="keyword">let</span> fileFormat2=fileName.substring(fileName.lastIndexOf(<span class="string">'.'</span>)+<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(fileFormat,fileFormat2)</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-images.githubusercontent.com/22697565/45154907-b8d2b080-b20b-11e8-944d-3adde64b69dd.png" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l
      
    
    </summary>
    
      <category term="前端" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="js代码片段" scheme="http://ru23.github.io/note/tags/js%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    
  </entry>
  
  <entry>
    <title>移动端限制input框只能输入数字</title>
    <link href="http://ru23.github.io/note/2018/09/03/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%99%90%E5%88%B6input%E6%A1%86%E5%8F%AA%E8%83%BD%E8%BE%93%E5%85%A5%E6%95%B0%E5%AD%97/"/>
    <id>http://ru23.github.io/note/2018/09/03/移动端限制input框只能输入数字/</id>
    <published>2018-09-03T08:56:58.000Z</published>
    <updated>2018-09-20T05:15:47.021Z</updated>
    
    <content type="html"><![CDATA[<p>html5 中，input 的 type 属性规定 input 元素的类型。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"value"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>有很多选项，详细可以参考<a href="http://www.w3school.com.cn/html5/att_input_type.asp" target="_blank" rel="noopener">HTML 5 type 属性</a></p><p>但是在移动端，还要区分是安卓用户，还是ios用户，所以这样写：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"num_input"</span> <span class="attr">type</span>=<span class="string">'number'</span> <span class="attr">pattern</span>=<span class="string">"[0-9]*"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>在安卓端设置input类型为number，可限制键盘只输入数字，在ios端，要加入pattern验证输入字段的模式，才能限制数字输入。</p><p>另： <code>autofocus=&quot;autofocus&quot;</code>可以自动对焦。</p>]]></content>
    
    <summary type="html">
    
      在安卓端设置input类型为number，可限制键盘只输入数字，在ios端，要加入pattern验证输入字段的模式，才能限制数字输入
    
    </summary>
    
    
      <category term="html5" scheme="http://ru23.github.io/note/tags/html5/"/>
    
  </entry>
  
  <entry>
    <title>React Js 微信分享封装</title>
    <link href="http://ru23.github.io/note/2018/09/03/React-Js-%E5%BE%AE%E4%BF%A1%E5%88%86%E4%BA%AB%E5%B0%81%E8%A3%85/"/>
    <id>http://ru23.github.io/note/2018/09/03/React-Js-微信分享封装/</id>
    <published>2018-09-03T07:17:54.000Z</published>
    <updated>2018-09-21T08:08:07.449Z</updated>
    
    <content type="html"><![CDATA[<p>本篇文章给大家分享的内容是代码详解React Js 微信分享封装，有着一定的参考价值，有需要的朋友可以参考一下 话不多说，直接上源代码：</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Fetch <span class="keyword">from</span> <span class="string">'./FetchIt'</span>;</span><br><span class="line"><span class="keyword">import</span> API_URL <span class="keyword">from</span> <span class="string">'./url'</span>;</span><br><span class="line"><span class="keyword">import</span> Share <span class="keyword">from</span> <span class="string">'./Share'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> wxUtils = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// 分享</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> getshareinfo?type=</span></span><br><span class="line"><span class="comment"> type :goods 课程详情 team 团详情</span></span><br><span class="line"><span class="comment"> id 课程id</span></span><br><span class="line"><span class="comment"> tid 团ID</span></span><br><span class="line"><span class="comment"> * @param config</span></span><br><span class="line"><span class="comment"> * @param shareInfo &#123;imgUrl,title,description,link&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">share2wx</span>(<span class="params">config, shareInfo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> share = <span class="keyword">new</span> Share(&#123;</span><br><span class="line">        appid: config.appid, <span class="comment">// 必填，公众号的唯一标识</span></span><br><span class="line">        timestamp: config.timestamp, <span class="comment">// 必填，生成签名的时间戳</span></span><br><span class="line">        nonceStr: config.nonceStr, <span class="comment">// 必填，生成签名的随机串</span></span><br><span class="line">        signature: config.signature, <span class="comment">// 必填，签名</span></span><br><span class="line">    &#125;);</span><br><span class="line">    share.init(<span class="built_in">Object</span>.assign(&#123;&#125;, shareInfo));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getConfig</span>(<span class="params">shareInfo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> href = <span class="built_in">window</span>.location.href.split(<span class="string">'#'</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">const</span> url = <span class="built_in">encodeURIComponent</span>(href <span class="comment">/*window.location.href*/</span>);</span><br><span class="line">    Fetch.get(<span class="string">`<span class="subst">$&#123;API_URL.mobile.signature_path&#125;</span>?url=<span class="subst">$&#123;url&#125;</span>`</span>).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        share2wx(data, shareInfo);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param shareInfo</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">wxUtils.share = <span class="function"><span class="keyword">function</span> (<span class="params">shareInfo</span>) </span>&#123;</span><br><span class="line">    getConfig(shareInfo);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// 分享结束</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 是否开启右上角Menu</span></span><br><span class="line"><span class="comment"> * @param open</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">wxUtils.optionMenu = <span class="function"><span class="keyword">function</span> (<span class="params">open = true</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (open) &#123;</span><br><span class="line">        openOptionMenu();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        disabledOptionMenu();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 是否禁用右上角</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">disabledOptionMenu</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> WeixinJSBridge === <span class="string">"undefined"</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.addEventListener) &#123;</span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">'WeixinJSBridgeReady'</span>, onBridgeReady(<span class="literal">true</span>), <span class="literal">false</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.attachEvent) &#123;</span><br><span class="line">            <span class="built_in">document</span>.attachEvent(<span class="string">'WeixinJSBridgeReady'</span>, onBridgeReady(<span class="literal">true</span>));</span><br><span class="line">            <span class="built_in">document</span>.attachEvent(<span class="string">'onWeixinJSBridgeReady'</span>, onBridgeReady(<span class="literal">true</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        onBridgeReady(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 开启menu</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">openOptionMenu</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> WeixinJSBridge === <span class="string">"undefined"</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.addEventListener) &#123;</span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">'WeixinJSBridgeReady'</span>, onBridgeReady(<span class="literal">false</span>), <span class="literal">false</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.attachEvent) &#123;</span><br><span class="line">            <span class="built_in">document</span>.attachEvent(<span class="string">'WeixinJSBridgeReady'</span>, onBridgeReady(<span class="literal">false</span>));</span><br><span class="line">            <span class="built_in">document</span>.attachEvent(<span class="string">'onWeixinJSBridgeReady'</span>, onBridgeReady(<span class="literal">false</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        onBridgeReady(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onBridgeReady</span>(<span class="params">disable = true</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> WeixinJSBridge !== <span class="string">"undefined"</span>) WeixinJSBridge.call(disable ? <span class="string">'hideOptionMenu'</span> : <span class="string">'showOptionMenu'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 隐藏微信网页底部的导航栏</span></span><br><span class="line"><span class="comment"> * @param disable</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">wxUtils.disabledToolbar = <span class="function"><span class="keyword">function</span> (<span class="params">disable = true</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">'WeixinJSBridgeReady'</span>, <span class="function"><span class="keyword">function</span> <span class="title">onBridgeReady</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 通过下面这个API隐藏底部导航栏</span></span><br><span class="line">        WeixinJSBridge.call(disable ? <span class="string">'hideToolbar'</span> : <span class="string">'showToolbar'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> wxUtils;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 分享</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Share</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">    wx.config(&#123;</span><br><span class="line">        debug: <span class="literal">false</span>, <span class="comment">// 开启调试模式</span></span><br><span class="line">        appId: config.appid, <span class="comment">// 必填，公众号的唯一标识</span></span><br><span class="line">        timestamp: config.timestamp, <span class="comment">// 必填，生成签名的时间戳</span></span><br><span class="line">        nonceStr: config.nonceStr, <span class="comment">// 必填，生成签名的随机串</span></span><br><span class="line">        signature: config.signature, <span class="comment">// 必填，签名，见附录1</span></span><br><span class="line">        jsApiList: [<span class="string">'onMenuShareTimeline'</span>, <span class="string">'onMenuShareAppMessage'</span>, <span class="string">'onMenuShareWeibo'</span>], <span class="comment">// 必填，需要使用的JS接口列表，所有JS接口列表见附录2</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Share.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Share,</span><br><span class="line"></span><br><span class="line">    init(config) &#123;</span><br><span class="line">        <span class="keyword">this</span>.imgUrl = config.imgUrl;</span><br><span class="line">        <span class="keyword">this</span>.link = config.link;</span><br><span class="line">        <span class="comment">// this.musicPath = config.musicPath;</span></span><br><span class="line">        <span class="keyword">this</span>.description = config.description;</span><br><span class="line">        <span class="keyword">this</span>.title = config.title;</span><br><span class="line"></span><br><span class="line">        wx.ready(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// if (this.musicPath) &#123;</span></span><br><span class="line">            <span class="comment">//     document.getElementById('musicIcon').play();</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            <span class="keyword">this</span>.toFriend();</span><br><span class="line">            <span class="keyword">this</span>.toTimeline();</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        wx.error(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;res&#125;</span>`</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    toFriend() &#123;</span><br><span class="line">        wx.onMenuShareAppMessage(&#123;</span><br><span class="line">            imgUrl: <span class="keyword">this</span>.imgUrl,</span><br><span class="line">            link: <span class="keyword">this</span>.link,</span><br><span class="line">            title: <span class="keyword">this</span>.title,</span><br><span class="line">            desc: <span class="keyword">this</span>.description,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// 用户确认分享后执行的回调函数</span></span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    toTimeline() &#123;</span><br><span class="line">        wx.onMenuShareTimeline(&#123;</span><br><span class="line">            imgUrl: <span class="keyword">this</span>.imgUrl,</span><br><span class="line">            link: <span class="keyword">this</span>.link,</span><br><span class="line">            title: <span class="keyword">this</span>.title,</span><br><span class="line">            desc: <span class="keyword">this</span>.description,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// 用户确认分享后执行的回调函数</span></span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Share;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//开启分享</span></span><br><span class="line">BaseComponent.wxUtils.optionMenu(<span class="literal">true</span>);</span><br><span class="line">BaseComponent.wxUtils.share(&#123;</span><br><span class="line">    imgUrl: activityData.sharePicUrl,</span><br><span class="line">    title: activityData.shareTitle,</span><br><span class="line">    description: activityData.shareContent,</span><br><span class="line">    link: url,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      本篇文章给大家分享的内容是代码详解React Js 微信分享封装，有着一定的参考价值，有需要的朋友可以参考一下 话不多说，直接上源代码：
    
    </summary>
    
    
      <category term="react" scheme="http://ru23.github.io/note/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>错误码：events.js:183 throw er; // Unhandled &#39;error&#39; event—解决办法</title>
    <link href="http://ru23.github.io/note/2018/08/30/%E9%94%99%E8%AF%AF%E7%A0%81%EF%BC%9Aevents-js-183-throw-er-Unhandled-error-event%E2%80%94%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
    <id>http://ru23.github.io/note/2018/08/30/错误码：events-js-183-throw-er-Unhandled-error-event—解决办法/</id>
    <published>2018-08-30T14:48:30.000Z</published>
    <updated>2018-09-20T03:46:25.540Z</updated>
    
    <content type="html"><![CDATA[<h4 id="控制台报错："><a href="#控制台报错：" class="headerlink" title="控制台报错："></a>控制台报错：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Hash: 78f0873c3eb47a64bfae</span><br><span class="line">Version: webpack 1.14.0</span><br><span class="line">Time: 16ms</span><br><span class="line">webpack: Compiled successfully.</span><br><span class="line">events.js:183</span><br><span class="line">      throw er; // Unhandled &apos;error&apos; event</span><br><span class="line">      ^</span><br><span class="line"></span><br><span class="line">Error: listen EADDRINUSE 127.0.0.1:8080</span><br><span class="line">    at Object._errnoException (util.js:1022:11)</span><br><span class="line">    at _exceptionWithHostPort (util.js:1044:20)</span><br><span class="line">    at Server.setupListenHandle [as _listen2] (net.js:1367:14)</span><br><span class="line">    at listenInCluster (net.js:1408:12)</span><br><span class="line">    at GetAddrInfoReqWrap.doListen [as callback] (net.js:1517:7)</span><br><span class="line">    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:97:10)</span><br><span class="line">npm ERR! code ELIFECYCLE</span><br><span class="line">npm ERR! errno 1</span><br><span class="line">npm ERR! webpack-demos@1.0.0 dev: `webpack-dev-server --devtool eval --progress --colors`</span><br><span class="line">npm ERR! Exit status 1</span><br><span class="line">npm ERR!</span><br><span class="line">npm ERR! Failed at the webpack-demos@1.0.0 dev script.</span><br><span class="line">npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     C:\Users\qian\AppData\Roaming\npm-cache\_logs\2018-08-30T14_46_37_546Z-debug.log</span><br></pre></td></tr></table></figure><h4 id="错误原因："><a href="#错误原因：" class="headerlink" title="错误原因："></a>错误原因：</h4><p>端口号被占用</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>1.Win+R,cmd查询使用的端口号是否被占用：<br>netstat  -aon|findstr  “8080”<br>按回车显示占用8080端口对应的程序的PID号；<br>2.根据PID号找到对应的程序：继续输入命令：<br>tasklist|findstr “15008”<br>按回车后显示出占用该端口的程序；<br>3.按快捷键“Ctrl+Shift+Esc”调出Windows任务管理器，根据PID/<br>程序对应名称结束该程序进程即可。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;控制台报错：&quot;&gt;&lt;a href=&quot;#控制台报错：&quot; class=&quot;headerlink&quot; title=&quot;控制台报错：&quot;&gt;&lt;/a&gt;控制台报错：&lt;/h4&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gut
      
    
    </summary>
    
    
      <category term="npm" scheme="http://ru23.github.io/note/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>合并数组的相同的key值，并且计算相同key值的个数</title>
    <link href="http://ru23.github.io/note/2018/08/30/%E5%90%88%E5%B9%B6%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%B8%E5%90%8C%E7%9A%84key%E5%80%BC%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%90%8Ckey%E5%80%BC%E7%9A%84%E4%B8%AA%E6%95%B0/"/>
    <id>http://ru23.github.io/note/2018/08/30/合并数组的相同的key值，并且计算相同key值的个数/</id>
    <published>2018-08-30T07:33:19.000Z</published>
    <updated>2018-09-20T03:46:25.540Z</updated>
    
    <content type="html"><![CDATA[<h4 id="需求："><a href="#需求：" class="headerlink" title="需求："></a>需求：</h4><p>合并数组的相同的key值，并且计算相同key值的个数</p><h4 id="场景："><a href="#场景：" class="headerlink" title="场景："></a>场景：</h4><p>根据list数组的每一项的key值coupon_sn合并数组，并且计数</p><h4 id="js代码"><a href="#js代码" class="headerlink" title="js代码"></a>js代码</h4><h5 id="json数组："><a href="#json数组：" class="headerlink" title="json数组："></a>json数组：</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">let list = [&#123;</span><br><span class="line">"id": 5899,</span><br><span class="line">"is_use": 0,</span><br><span class="line">"use_time": null,</span><br><span class="line">"expired_time": "2018-12-31 00:00:00",</span><br><span class="line">"coupon": &#123;</span><br><span class="line">"coupon_sn": "1",</span><br><span class="line">"name": "满减",</span><br><span class="line">"type": 2,</span><br><span class="line">"count": 99993,</span><br><span class="line">"receive_count": 6,</span><br><span class="line">"is_fare": 0,</span><br><span class="line">"available_money": "2000.00",</span><br><span class="line">"reduce_money": "100.00",</span><br><span class="line">"discount": "1.000",</span><br><span class="line">"receive_start_time": "2018-07-27 00:00:00",</span><br><span class="line">"receive_end_time": "2020-12-31 00:00:00",</span><br><span class="line">"info": "",</span><br><span class="line">"created_at": "2018-07-27 21:22:51",</span><br><span class="line">"restriction_description": "仅限非板材使用"</span><br><span class="line">&#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">"id": 5899,</span><br><span class="line">"is_use": 0,</span><br><span class="line">"use_time": null,</span><br><span class="line">"expired_time": "2018-12-31 00:00:00",</span><br><span class="line">"coupon": &#123;</span><br><span class="line">"coupon_sn": "2",</span><br><span class="line">"name": "满减",</span><br><span class="line">"type": 2,</span><br><span class="line">"count": 99993,</span><br><span class="line">"receive_count": 6,</span><br><span class="line">"is_fare": 0,</span><br><span class="line">"available_money": "2000.00",</span><br><span class="line">"reduce_money": "100.00",</span><br><span class="line">"discount": "1.000",</span><br><span class="line">"receive_start_time": "2018-07-27 00:00:00",</span><br><span class="line">"receive_end_time": "2020-12-31 00:00:00",</span><br><span class="line">"info": "",</span><br><span class="line">"created_at": "2018-07-27 21:22:51",</span><br><span class="line">"restriction_description": "仅限非板材使用"</span><br><span class="line">&#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">"id": 5899,</span><br><span class="line">"is_use": 0,</span><br><span class="line">"use_time": null,</span><br><span class="line">"expired_time": "2018-12-31 00:00:00",</span><br><span class="line">"coupon": &#123;</span><br><span class="line">"coupon_sn": "2",</span><br><span class="line">"name": "满减",</span><br><span class="line">"type": 2,</span><br><span class="line">"count": 99993,</span><br><span class="line">"receive_count": 6,</span><br><span class="line">"is_fare": 0,</span><br><span class="line">"available_money": "2000.00",</span><br><span class="line">"reduce_money": "100.00",</span><br><span class="line">"discount": "1.000",</span><br><span class="line">"receive_start_time": "2018-07-27 00:00:00",</span><br><span class="line">"receive_end_time": "2020-12-31 00:00:00",</span><br><span class="line">"info": "",</span><br><span class="line">"created_at": "2018-07-27 21:22:51",</span><br><span class="line">"restriction_description": "仅限非板材使用"</span><br><span class="line">&#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><h5 id="js代码-1"><a href="#js代码-1" class="headerlink" title="js代码"></a>js代码</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> hash = &#123;</span><br><span class="line">coupon: &#123;&#125;,</span><br><span class="line">&#125;, i = <span class="number">0</span>, res = [];</span><br><span class="line">list.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item </span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> coupon_sn = item.coupon.coupon_sn;</span><br><span class="line"><span class="keyword">if</span> (hash[coupon_sn]) &#123;</span><br><span class="line"><span class="keyword">if</span> (!res[hash[coupon_sn] - <span class="number">1</span>].count) &#123;</span><br><span class="line">res[hash[coupon_sn] - <span class="number">1</span>].count = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">res[hash[coupon_sn] - <span class="number">1</span>].count += <span class="number">1</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">hash[coupon_sn] = ++i &amp;&amp; res.push(&#123;</span><br><span class="line"><span class="string">"count"</span>: <span class="number">1</span>,</span><br><span class="line"><span class="string">"id"</span>: item.id,</span><br><span class="line"><span class="string">"is_use"</span>: item.is_use,</span><br><span class="line"><span class="string">"use_time"</span>: item.use_time,</span><br><span class="line"><span class="string">"expired_time"</span>: item.expired_time,</span><br><span class="line"><span class="string">"coupon"</span>: item.coupon</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(res);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;需求：&quot;&gt;&lt;a href=&quot;#需求：&quot; class=&quot;headerlink&quot; title=&quot;需求：&quot;&gt;&lt;/a&gt;需求：&lt;/h4&gt;&lt;p&gt;合并数组的相同的key值，并且计算相同key值的个数&lt;/p&gt;
&lt;h4 id=&quot;场景：&quot;&gt;&lt;a href=&quot;#场景：&quot; class=&quot;
      
    
    </summary>
    
      <category term="前端" scheme="http://ru23.github.io/note/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="js代码片段" scheme="http://ru23.github.io/note/tags/js%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    
  </entry>
  
  <entry>
    <title>怎么把数组倒置，又不影响原来数组，reverse不行</title>
    <link href="http://ru23.github.io/note/2018/08/18/%E6%80%8E%E4%B9%88%E6%8A%8A%E6%95%B0%E7%BB%84%E5%80%92%E7%BD%AE%EF%BC%8C%E5%8F%88%E4%B8%8D%E5%BD%B1%E5%93%8D%E5%8E%9F%E6%9D%A5%E6%95%B0%E7%BB%84%EF%BC%8Creverse%E4%B8%8D%E8%A1%8C/"/>
    <id>http://ru23.github.io/note/2018/08/18/怎么把数组倒置，又不影响原来数组，reverse不行/</id>
    <published>2018-08-18T15:33:00.000Z</published>
    <updated>2018-09-20T03:46:25.540Z</updated>
    
    <content type="html"><![CDATA[<h3 id="情景："><a href="#情景：" class="headerlink" title="情景："></a>情景：</h3><p>怎么把数组倒置，又不影响原来数组，reverse不行，会把原数组也给反过来。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>];</span><br><span class="line"><span class="keyword">var</span> bbb = arr.reverse()</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">//["4", "3", "2", "1"]</span></span><br><span class="line"><span class="built_in">console</span>.log(bbb); <span class="comment">//["4", "3", "2", "1"]</span></span><br></pre></td></tr></table></figure></p><p>直接改的话bbb和arr指向是同一个数组对象。reverse改变的是数组对象，a指向它，所以改变了，要改变就要让其指向不同</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>];</span><br><span class="line"><span class="comment">//列举4个解决方案</span></span><br><span class="line"><span class="keyword">var</span> bbb = [...arr].reverse() <span class="comment">//方法1</span></span><br><span class="line"><span class="keyword">var</span> bbb = [].concat(arr).reverse()  <span class="comment">//方法2</span></span><br><span class="line"><span class="keyword">var</span> bbb = <span class="built_in">Object</span>.assign([],arr).reverse()<span class="comment">//方法3</span></span><br><span class="line"><span class="keyword">var</span> bbb = arr.slice().reverse()<span class="comment">//方法4</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); </span><br><span class="line"><span class="built_in">console</span>.log(bbb);</span><br></pre></td></tr></table></figure><p> ES6语法很方便~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;情景：&quot;&gt;&lt;a href=&quot;#情景：&quot; class=&quot;headerlink&quot; title=&quot;情景：&quot;&gt;&lt;/a&gt;情景：&lt;/h3&gt;&lt;p&gt;怎么把数组倒置，又不影响原来数组，reverse不行，会把原数组也给反过来。&lt;br&gt;&lt;figure class=&quot;highlight
      
    
    </summary>
    
    
      <category term="js代码片段" scheme="http://ru23.github.io/note/tags/js%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    
  </entry>
  
</feed>
